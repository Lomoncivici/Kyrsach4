{% extends 'employees/admin/admin_base.html' %}

{% block title %}Добавить эпизод - Управление контентом{% endblock %}
{% block page_title %}➕ Добавить эпизод{% endblock %}

{% block content %}
<div class="content-box">
    <h2>Добавление эпизода для: {{ series_title }} - Сезон {{ season_num }}</h2>
    
    {% if messages %}
    <div class="alert alert-info">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
    {% endif %}
    
    <form method="post" style="max-width: 800px;">
        {% csrf_token %}
        
        <div class="form-row">
            <div class="form-group">
                <label for="episode_num">Номер эпизода *</label>
                <input type="number" id="episode_num" name="episode_num" 
                       value="{{ next_episode }}" min="1" required>
            </div>
            
            <div class="form-group">
                <label for="duration">Длительность (секунды)</label>
                <input type="number" id="duration" name="duration" 
                       min="0" placeholder="Например: 3600 (1 час)">
            </div>
        </div>
        
        <div class="form-group">
            <label for="title">Название эпизода *</label>
            <input type="text" id="title" name="title" required 
                   placeholder="Название эпизода">
        </div>
        
        <div class="form-group">
            <label for="description">Описание (опционально)</label>
            <textarea id="description" name="description" 
                      placeholder="Описание эпизода..." rows="3"></textarea>
        </div>
        
        <div class="form-group">
            <label for="video_url">URL видео *</label>
            <input type="text" id="video_url" name="video_url" required
                   placeholder="https://example.com/video.mp4">
            <div style="font-size: 12px; color: #718096; margin-top: 5px;">
                Форматы: MP4, WebM, HLS (.m3u8), DASH (.mpd)
            </div>
        </div>
        
        <div class="form-group">
            <button type="submit" class="btn btn-success">Создать эпизод</button>
            <a href="{% url 'admin_season_detail' season_id %}" 
               class="btn" style="background: #a0aec0; margin-left: 10px;">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}